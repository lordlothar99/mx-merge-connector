define(["react"],(function(e){"use strict";var t,n,a=(function(e){
/*!
      Copyright (c) 2017 Jed Watson.
      Licensed under the MIT License (MIT), see
      http://jedwatson.github.io/classnames
    */
!function(){var t={}.hasOwnProperty;function n(){for(var e=[],a=0;a<arguments.length;a++){var l=arguments[a];if(l){var o=typeof l;if("string"===o||"number"===o)e.push(l);else if(Array.isArray(l)&&l.length){var i=n.apply(null,l);i&&e.push(i)}else if("object"===o)for(var r in l)t.call(l,r)&&l[r]&&e.push(r)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n}()}(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports);const l=({className:t,bootstrapStyle:n,children:l})=>e.Children.count(l)>0?e.createElement("div",{className:a("alert alert-".concat(n),t)},l):null;var o;function i(t){var n;const[l,o]=e.useState(""),[i,r]=e.useState([]),[u,c]=e.useState([]),[s,d]=e.useState(!1),[p,m]=e.useState(0),v=e.useRef(null),f=e.useCallback((e=>{var n;0===(null==e?void 0:e.length)?(o(null!==(n=t.emptyOptionCaption)&&void 0!==n?n:""),c([])):(o(e.map((e=>e.caption)).join(",")),c(e))}),[t.emptyOptionCaption]),h=e.useCallback((e=>{t.multiSelect?f(function(e,t){const n=[...e],a=e.indexOf(t);a>-1?n.splice(a,1):n.push(t);return n}(u,e)):(o(e.caption),c([e]),d(!1))}),[u,t.emptyOptionCaption,t.multiSelect]);var y,g;y=v,g=()=>d(!1),e.useEffect((()=>{const e=e=>{y.current&&!y.current.contains(e.target)&&g()};return document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e)}}),[y,g]),e.useEffect((()=>{var e,n,a,l;if(t.multiSelect){if(t.defaultValue){const e=t.defaultValue.split(",").map((e=>t.options.find((t=>t.value===e)))).filter(Boolean);f(e)}else o(null!==(e=t.emptyOptionCaption)&&void 0!==e?e:"");r(t.options)}else{const e=[{caption:null!==(n=t.emptyOptionCaption)&&void 0!==n?n:"",value:""},...t.options],i=null!==(a=e.find((e=>e.value===t.defaultValue)))&&void 0!==a?a:e[0];o(null!==(l=null==i?void 0:i.caption)&&void 0!==l?l:""),c([i]),r(e)}}),[t.defaultValue,t.options,t.emptyOptionCaption]),e.useEffect((()=>{t.filterDispatcher&&t.filterDispatcher({filter:(e,t)=>!(u.length>0)||u.some((n=>{var a,l,o;return(null===(a=t.get(e).value)||void 0===a?void 0:a.toString().toLocaleLowerCase())===(null===(l=n.value)||void 0===l?void 0:l.toString().toLocaleLowerCase())||""===(null===(o=n.value)||void 0===o?void 0:o.toString())}))})}),[t.filterDispatcher,u]);const b=0===u.length||l===t.emptyOptionCaption;return e.createElement("div",{className:"dropdown-container","data-focusindex":null!==(n=t.tabIndex)&&void 0!==n?n:0,ref:v},e.createElement("input",{value:b?"":l,placeholder:b?t.emptyOptionCaption:void 0,className:"form-control dropdown-triggerer",onClick:()=>d(!0),onFocus:()=>d(!0),"aria-haspopup":!0,ref:e=>{e&&e.clientWidth&&m(e.clientWidth)},"aria-expanded":s,"aria-controls":"".concat(t.name,"-dropdown-list"),"aria-label":t.ariaLabel}),s&&e.createElement("ul",{id:"".concat(t.name,"-dropdown-list"),className:"dropdown-list",style:{width:p},role:"menu","data-focusindex":0},i.map(((n,l)=>e.createElement("li",{className:a({"filter-selected":!t.multiSelect&&u.includes(n)}),key:l,onClick:()=>h(n),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),h(n))},role:"menuitem",tabIndex:0},t.multiSelect?e.createElement(e.Fragment,null,e.createElement("input",{id:"checkbox_toggle_".concat(l),type:"checkbox",checked:u.includes(n)}),e.createElement("label",{htmlFor:"checkbox_toggle_".concat(l),style:{pointerEvents:"none"}},n.caption)):e.createElement("div",{className:"filter-label"},n.caption))))))}return l.displayName="Alert",function(e){e.Number="number",e.DateTime="datetime"}(o||(o={})),function(t){const n=window["com.mendix.widgets.web.datagrid.filterContext"],a=t.filterOptions.every((({value:e,caption:t})=>"available"===e.status&&"available"===t.status))?t.filterOptions.map((e=>{var t,n;return{caption:null!==(t=e.caption.value)&&void 0!==t?t:"",value:null!==(n=e.value.value)&&void 0!==n?n:""}})):[],o=e.createElement(l,{bootstrapStyle:"danger"},"The usage of filter widgets are only available within a data grid filter context. Please move the Data grid dropdown widget to inside a Data Grid v2.");return(null==n?void 0:n.Consumer)?e.createElement(n.Consumer,null,(n=>{var l,r,u;return n?e.createElement(i,{ariaLabel:null===(l=t.ariaLabel)||void 0===l?void 0:l.value,emptyOptionCaption:null===(r=t.emptyOptionCaption)||void 0===r?void 0:r.value,filterDispatcher:n,multiSelect:t.multiSelect,name:t.name,options:a,tabIndex:t.tabIndex,defaultValue:null===(u=t.defaultValue)||void 0===u?void 0:u.value}):o})):o}}));
